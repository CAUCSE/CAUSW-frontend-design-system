import{j as r}from"./jsx-runtime-D_zvdyIk.js";import{r as n}from"./iframe-Cjm6fHpE.js";import{r as Ae}from"./index-B_UGtfoo.js";import{c as je,B as Oe,P as N,u as Le,a as P,f as X,R as Me,b as ke,h as Ve,g as Ke}from"./index-hQvW4U_T.js";import{u as ve}from"./index-CG8j-80s.js";import{c as $e}from"./index-72SB87xO.js";import{P as He}from"./index-BQFCm9Ng.js";import{a as we}from"./index-BSvFRRef.js";import{c as We,m as xe}from"./mergeStyles-CG35R4DM.js";import{T as Ue}from"./Text-Cg4OJqq3.js";import"./preload-helper-Dp1pzeXC.js";import"./index-pK5jcRj4.js";import"./bundle-mjs-CJvxXMcu.js";import"./index-CKBcBfht.js";var ee="ToastProvider",[te,Xe,Ye]=$e("Toast"),[Ee]=je("Toast",[Ye]),[Be,Y]=Ee(ee),ye=e=>{const{__scopeToast:s,label:t="Notification",duration:o=5e3,swipeDirection:u="right",swipeThreshold:d=50,children:p}=e,[T,v]=n.useState(null),[a,C]=n.useState(0),E=n.useRef(!1),A=n.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${ee}\`. Expected non-empty \`string\`.`),r.jsx(te.Provider,{scope:s,children:r.jsx(Be,{scope:s,label:t,duration:o,swipeDirection:u,swipeThreshold:d,toastCount:a,viewport:T,onViewportChange:v,onToastAdd:n.useCallback(()=>C(R=>R+1),[]),onToastRemove:n.useCallback(()=>C(R=>R-1),[]),isFocusedToastEscapeKeyDownRef:E,isClosePausedRef:A,children:p})})};ye.displayName=ee;var ge="ToastViewport",qe=["F8"],G="toast.viewportPause",J="toast.viewportResume",he=n.forwardRef((e,s)=>{const{__scopeToast:t,hotkey:o=qe,label:u="Notifications ({hotkey})",...d}=e,p=Y(ge,t),T=Xe(t),v=n.useRef(null),a=n.useRef(null),C=n.useRef(null),E=n.useRef(null),A=ve(s,E,p.onViewportChange),R=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=p.toastCount>0;n.useEffect(()=>{const c=y=>{var m;o.length!==0&&o.every(w=>y[w]||y.code===w)&&((m=E.current)==null||m.focus())};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[o]),n.useEffect(()=>{const c=v.current,y=E.current;if(S&&c&&y){const f=()=>{if(!p.isClosePausedRef.current){const g=new CustomEvent(G);y.dispatchEvent(g),p.isClosePausedRef.current=!0}},m=()=>{if(p.isClosePausedRef.current){const g=new CustomEvent(J);y.dispatchEvent(g),p.isClosePausedRef.current=!1}},w=g=>{!c.contains(g.relatedTarget)&&m()},x=()=>{c.contains(document.activeElement)||m()};return c.addEventListener("focusin",f),c.addEventListener("focusout",w),c.addEventListener("pointermove",f),c.addEventListener("pointerleave",x),window.addEventListener("blur",f),window.addEventListener("focus",m),()=>{c.removeEventListener("focusin",f),c.removeEventListener("focusout",w),c.removeEventListener("pointermove",f),c.removeEventListener("pointerleave",x),window.removeEventListener("blur",f),window.removeEventListener("focus",m)}}},[S,p.isClosePausedRef]);const l=n.useCallback(({tabbingDirection:c})=>{const f=T().map(m=>{const w=m.ref.current,x=[w,...ut(w)];return c==="forwards"?x:x.reverse()});return(c==="forwards"?f.reverse():f).flat()},[T]);return n.useEffect(()=>{const c=E.current;if(c){const y=f=>{var x,g,I;const m=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!m){const j=document.activeElement,F=f.shiftKey;if(f.target===c&&F){(x=a.current)==null||x.focus();return}const _=l({tabbingDirection:F?"backwards":"forwards"}),k=_.findIndex(i=>i===j);z(_.slice(k+1))?f.preventDefault():F?(g=a.current)==null||g.focus():(I=C.current)==null||I.focus()}};return c.addEventListener("keydown",y),()=>c.removeEventListener("keydown",y)}},[T,l]),r.jsxs(Oe,{ref:v,role:"region","aria-label":u.replace("{hotkey}",R),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&r.jsx(Q,{ref:a,onFocusFromOutsideViewport:()=>{const c=l({tabbingDirection:"forwards"});z(c)}}),r.jsx(te.Slot,{scope:t,children:r.jsx(N.ol,{tabIndex:-1,...d,ref:A})}),S&&r.jsx(Q,{ref:C,onFocusFromOutsideViewport:()=>{const c=l({tabbingDirection:"backwards"});z(c)}})]})});he.displayName=ge;var Ce="ToastFocusProxy",Q=n.forwardRef((e,s)=>{const{__scopeToast:t,onFocusFromOutsideViewport:o,...u}=e,d=Y(Ce,t);return r.jsx(we,{tabIndex:0,...u,ref:s,style:{position:"fixed"},onFocus:p=>{var a;const T=p.relatedTarget;!((a=d.viewport)!=null&&a.contains(T))&&o()}})});Q.displayName=Ce;var M="Toast",ze="toast.swipeStart",Ge="toast.swipeMove",Je="toast.swipeCancel",Qe="toast.swipeEnd",Pe=n.forwardRef((e,s)=>{const{forceMount:t,open:o,defaultOpen:u,onOpenChange:d,...p}=e,[T,v]=Le({prop:o,defaultProp:u??!0,onChange:d,caller:M});return r.jsx(He,{present:t||T,children:r.jsx(tt,{open:T,...p,ref:s,onClose:()=>v(!1),onPause:X(e.onPause),onResume:X(e.onResume),onSwipeStart:P(e.onSwipeStart,a=>{a.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:P(e.onSwipeMove,a=>{const{x:C,y:E}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","move"),a.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${C}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${E}px`)}),onSwipeCancel:P(e.onSwipeCancel,a=>{a.currentTarget.setAttribute("data-swipe","cancel"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:P(e.onSwipeEnd,a=>{const{x:C,y:E}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","end"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${C}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${E}px`),v(!1)})})})});Pe.displayName=M;var[Ze,et]=Ee(M,{onClose(){}}),tt=n.forwardRef((e,s)=>{const{__scopeToast:t,type:o="foreground",duration:u,open:d,onClose:p,onEscapeKeyDown:T,onPause:v,onResume:a,onSwipeStart:C,onSwipeMove:E,onSwipeCancel:A,onSwipeEnd:R,...S}=e,l=Y(M,t),[c,y]=n.useState(null),f=ve(s,i=>y(i)),m=n.useRef(null),w=n.useRef(null),x=u||l.duration,g=n.useRef(0),I=n.useRef(x),j=n.useRef(0),{onToastAdd:F,onToastRemove:B}=l,D=X(()=>{var h;(c==null?void 0:c.contains(document.activeElement))&&((h=l.viewport)==null||h.focus()),p()}),_=n.useCallback(i=>{!i||i===1/0||(window.clearTimeout(j.current),g.current=new Date().getTime(),j.current=window.setTimeout(D,i))},[D]);n.useEffect(()=>{const i=l.viewport;if(i){const h=()=>{_(I.current),a==null||a()},b=()=>{const O=new Date().getTime()-g.current;I.current=I.current-O,window.clearTimeout(j.current),v==null||v()};return i.addEventListener(G,b),i.addEventListener(J,h),()=>{i.removeEventListener(G,b),i.removeEventListener(J,h)}}},[l.viewport,x,v,a,_]),n.useEffect(()=>{d&&!l.isClosePausedRef.current&&_(x)},[d,x,l.isClosePausedRef,_]),n.useEffect(()=>(F(),()=>B()),[F,B]);const k=n.useMemo(()=>c?Fe(c):null,[c]);return l.viewport?r.jsxs(r.Fragment,{children:[k&&r.jsx(ot,{__scopeToast:t,role:"status","aria-live":o==="foreground"?"assertive":"polite",children:k}),r.jsx(Ze,{scope:t,onClose:D,children:Ae.createPortal(r.jsx(te.ItemSlot,{scope:t,children:r.jsx(Me,{asChild:!0,onEscapeKeyDown:P(T,()=>{l.isFocusedToastEscapeKeyDownRef.current||D(),l.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(N.li,{tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":l.swipeDirection,...S,ref:f,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:P(e.onKeyDown,i=>{i.key==="Escape"&&(T==null||T(i.nativeEvent),i.nativeEvent.defaultPrevented||(l.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:P(e.onPointerDown,i=>{i.button===0&&(m.current={x:i.clientX,y:i.clientY})}),onPointerMove:P(e.onPointerMove,i=>{if(!m.current)return;const h=i.clientX-m.current.x,b=i.clientY-m.current.y,O=!!w.current,L=["left","right"].includes(l.swipeDirection),V=["left","up"].includes(l.swipeDirection)?Math.min:Math.max,De=L?V(0,h):0,Ne=L?0:V(0,b),q=i.pointerType==="touch"?10:2,K={x:De,y:Ne},re={originalEvent:i,delta:K};O?(w.current=K,$(Ge,E,re,{discrete:!1})):ne(K,l.swipeDirection,q)?(w.current=K,$(ze,C,re,{discrete:!1}),i.target.setPointerCapture(i.pointerId)):(Math.abs(h)>q||Math.abs(b)>q)&&(m.current=null)}),onPointerUp:P(e.onPointerUp,i=>{const h=w.current,b=i.target;if(b.hasPointerCapture(i.pointerId)&&b.releasePointerCapture(i.pointerId),w.current=null,m.current=null,h){const O=i.currentTarget,L={originalEvent:i,delta:h};ne(h,l.swipeDirection,l.swipeThreshold)?$(Qe,R,L,{discrete:!0}):$(Je,A,L,{discrete:!0}),O.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),l.viewport)})]}):null}),ot=e=>{const{__scopeToast:s,children:t,...o}=e,u=Y(M,s),[d,p]=n.useState(!1),[T,v]=n.useState(!1);return it(()=>p(!0)),n.useEffect(()=>{const a=window.setTimeout(()=>v(!0),1e3);return()=>window.clearTimeout(a)},[]),T?null:r.jsx(ke,{asChild:!0,children:r.jsx(we,{...o,children:d&&r.jsxs(r.Fragment,{children:[u.label," ",t]})})})},st="ToastTitle",rt=n.forwardRef((e,s)=>{const{__scopeToast:t,...o}=e;return r.jsx(N.div,{...o,ref:s})});rt.displayName=st;var nt="ToastDescription",be=n.forwardRef((e,s)=>{const{__scopeToast:t,...o}=e;return r.jsx(N.div,{...o,ref:s})});be.displayName=nt;var Re="ToastAction",at=n.forwardRef((e,s)=>{const{altText:t,...o}=e;return t.trim()?r.jsx(_e,{altText:t,asChild:!0,children:r.jsx(Ie,{...o,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${Re}\`. Expected non-empty \`string\`.`),null)});at.displayName=Re;var Se="ToastClose",Ie=n.forwardRef((e,s)=>{const{__scopeToast:t,...o}=e,u=et(Se,t);return r.jsx(_e,{asChild:!0,children:r.jsx(N.button,{type:"button",...o,ref:s,onClick:P(e.onClick,u.onClose)})})});Ie.displayName=Se;var _e=n.forwardRef((e,s)=>{const{__scopeToast:t,altText:o,...u}=e;return r.jsx(N.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0,...u,ref:s})});function Fe(e){const s=[];return Array.from(e.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&s.push(o.textContent),ct(o)){const u=o.ariaHidden||o.hidden||o.style.display==="none",d=o.dataset.radixToastAnnounceExclude==="";if(!u)if(d){const p=o.dataset.radixToastAnnounceAlt;p&&s.push(p)}else s.push(...Fe(o))}}),s}function $(e,s,t,{discrete:o}){const u=t.originalEvent.currentTarget,d=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:t});s&&u.addEventListener(e,s,{once:!0}),o?Ke(u,d):u.dispatchEvent(d)}var ne=(e,s,t=0)=>{const o=Math.abs(e.x),u=Math.abs(e.y),d=o>u;return s==="left"||s==="right"?d&&o>t:!d&&u>t};function it(e=()=>{}){const s=X(e);Ve(()=>{let t=0,o=0;return t=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(o)}},[s])}function ct(e){return e.nodeType===e.ELEMENT_NODE}function ut(e){const s=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const u=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||u?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)s.push(t.currentNode);return s}function z(e){const s=document.activeElement;return e.some(t=>t===s?!0:(t.focus(),document.activeElement!==s))}var lt=ye,dt=he,pt=Pe,ft=be;const mt={default:"w-[20rem] md:w-[26.25rem] max-w-[calc(100vw-2rem)] rounded-md bg-gray-700 px-4 py-3"},Tt={default:"white"};function vt({variant:e,className:s}){const t=We("group pointer-events-auto relative flex items-center justify-center overflow-hidden text-center transition-all","data-[state=open]:animate-toast-slide-in","data-[state=closed]:animate-toast-hide"),o=mt[e];return xe([t,o,s])}const oe=({className:e,variant:s="default",message:t,...o})=>{const u=Tt[s];return r.jsx(pt,{className:vt({variant:s,className:e}),...o,children:t&&r.jsx(ft,{asChild:!0,children:r.jsx(Ue,{as:"p",typography:"body-16-medium",textColor:u,children:t})})})},Z=({className:e,...s})=>r.jsx(dt,{className:xe(["fixed bottom-20.5 left-1/2 z-50 flex max-h-screen w-full -translate-x-1/2 flex-col-reverse items-center xl:bottom-14",e]),...s}),ae=lt;oe.__docgenInfo={description:"",methods:[],displayName:"Toast",props:{variant:{required:!1,tsType:{name:"literal",value:"'default'"},description:"",defaultValue:{value:"'default'",computed:!1}},message:{required:!1,tsType:{name:"string"},description:""}}};Z.__docgenInfo={description:"",methods:[],displayName:"ToastViewport"};const Dt={title:"Components/Toast",component:oe,subcomponents:{ToastProvider:ae,ToastViewport:Z},parameters:{layout:"centered",docs:{source:{transform:(e,s)=>{const{args:t}=s;return`
            const [open, setOpen] = useState(false);

            return (
              <ToastProvider>
                <Toast 
                  open={open} 
                  onOpenChange={setOpen} 
                  message="${t.message}"
                  ${t.duration?`duration={${t.duration}}`:""}
                />
                <ToastViewport />
              </ToastProvider>
              )`}}}},tags:["autodocs"],decorators:[e=>r.jsxs(ae,{children:[r.jsx(e,{}),r.jsx(Z,{})]})],argTypes:{variant:{control:"select",options:["default"]},message:{type:"string",control:"text"},open:{type:"boolean",control:"boolean"},duration:{control:{type:"number",min:1e3,step:1e3},description:"토스트가 떠있는 시간(ms)입니다."}},args:{message:"토스트 알림이에요",variant:"default",duration:5e3}},se=e=>{const[s,t]=n.useState(!1);return n.useEffect(()=>{e.open!==void 0&&t(e.open)},[e.open]),r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>{t(!1),setTimeout(()=>t(!0),100)},className:"cursor-pointer rounded-sm bg-blue-500 px-4 py-2 text-sm text-white transition-colors hover:bg-blue-600 hover:text-gray-200",children:"Show Toast"}),r.jsx(oe,{...e,open:s,onOpenChange:t})]})},H={render:e=>r.jsx(se,{...e})},W={args:{message:"사물함 등록이 완료되었습니다.",variant:"default",open:!0},render:e=>r.jsx(se,{...e})},U={args:{message:"1.5초 뒤에 자동으로 사라집니다.",duration:1500,open:!0},render:e=>r.jsx(se,{...e})};var ie,ce,ue;H.parameters={...H.parameters,docs:{...(ie=H.parameters)==null?void 0:ie.docs,source:{originalSource:`{
  render: args => <InteractiveToast {...args} />
}`,...(ue=(ce=H.parameters)==null?void 0:ce.docs)==null?void 0:ue.source}}};var le,de,pe;W.parameters={...W.parameters,docs:{...(le=W.parameters)==null?void 0:le.docs,source:{originalSource:`{
  args: {
    message: '사물함 등록이 완료되었습니다.',
    variant: 'default',
    open: true
  },
  render: args => <InteractiveToast {...args} />
}`,...(pe=(de=W.parameters)==null?void 0:de.docs)==null?void 0:pe.source}}};var fe,me,Te;U.parameters={...U.parameters,docs:{...(fe=U.parameters)==null?void 0:fe.docs,source:{originalSource:`{
  args: {
    message: '1.5초 뒤에 자동으로 사라집니다.',
    duration: 1500,
    open: true
  },
  render: args => <InteractiveToast {...args} />
}`,...(Te=(me=U.parameters)==null?void 0:me.docs)==null?void 0:Te.source}}};const Nt=["Default","Opened","FastDismiss"];export{H as Default,U as FastDismiss,W as Opened,Nt as __namedExportsOrder,Dt as default};
